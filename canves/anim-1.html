
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>animation</title>
<style>
body { background-color:#eeeeee; }
#canvas1 {background-color:dddddd;
          border: 5px blue solid; }
#outer {margin-left:40px;
        margin-top:20px;
       }
</style>
</head>
<body>
<div id="outer">
<canvas id="canvas1" width="400" height="300"">
This text is displayed if your browser does not support HTML5 Canvas.
</canvas>
<h4>點擊任意處換方向！！</h4>
</div>
<div id='counter'>11111</div>
<script>
  // 完成 10%
var w = 400; // Canvas width
var h = 300; // Canvas height
var sky = new Image();  // Sky image
var skydx = 30;  // Amount to move sky image
var skyx = 0;  // x coord to slice sky image

var canvas1 = document.getElementById("canvas1");
var msg = document.getElementById("counter");
var cntx = canvas1.getContext("2d");
sky.src = "canvas.png";
var switchDirection = false;

window.onload=function () {
setInterval(draw,100);
cntx.drawImage(sky, skyx, 0, 100, 100);
}
function Isclicked(){
  switchDirection != switchDirection;
}

function draw() {
  cntx.globalCompositeOperation='xor';
  cntx.drawImage(sky, skyx, 0, 100, 100);
  skyx+=skydx;
  if(w <= skydx){
    skyx*= -1;
  }
  
  
  cntx.fillStyle = "black";
  cntx.drawImage(sky, skyx, 0, 100,100);
  msg.innerHTML=skyx;

}

</script>

</body>
</html>